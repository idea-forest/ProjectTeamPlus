@model SteamProject.ViewModels.UserDashboardVM
@{
    ViewData["Title"] = "Dashboard";
}

<head>
    <link rel="stylesheet" href="~/css/Dashboard.css">
</head>

@if (Model == null)
{
    <h1>This will be your Dashboard page once you sign in with a linked account, and we pull your Steam library.</h1>
}
else
{
    <div class="container-fluid mx-auto"> 
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-3">
                    <div>
                        <img class="user-avatar" id="@Model._user.SteamId" src="@Model._user.AvatarUrl" style="padding-bottom: 10px; padding-top: 10px"/>
                    </div>
                </div>
                <div class="col-lg-4">
                    <h2>@Model._user.SteamName</h2>
                    <h3>Level @Model._user.PlayerLevel</h3>
                </div>
                <div class="col-lg-5">
                    <h1></h1>
                    <div>
                    </div>
                </div>
            </div>
        </div>


        <button onclick="showFollowedGamesModal()">Manage Followed Games</button>
        <br/>

        <div class="container-fluid" >
            <h1>Your News</h1>
            <div class="row">
                <div id="recentGamesCarousel" class="carousel slide" data-ride="carousel">
                    
                    <div class="carousel-inner">
                        <div class="carousel-item mx-auto active">
                            <div class="row">
                                <div class="card col-md-4 mb-3">
                                    <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", Model.gameTuples[0].Item1.AppId)" alt="@string.Format("{0}", @game.Item1.Name)">
                                    <div class="card-body">
                                        <h4 class="card-title">Special title treatment</h4>
                                        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>

                                    </div>
                                </div>


                                <div class="card col-md-4 mb-3">
                                    <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", Model.gameTuples[0].Item2.AppId)" alt="@string.Format("{0}", @game.Item2.Name)">
                                    <div class="card-body">
                                        <h4 class="card-title">Special title treatment</h4>
                                        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                    </div>
                                </div>

                                <div class="card col-md-4 mb-3">
                                    <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", Model.gameTuples[0].Item3.AppId)" alt="@string.Format("{0}", @game.Item3.Name)">
                                    <div class="card-body">
                                        <h4 class="card-title">Special title treatment</h4>
                                        <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        @for (var index = 1; index < Model.gameTuples.Count; index++)
                        {
                            var game = Model.gameTuples[index];
                            <div class="carousel-item mx-auto">
                                <div class="row"> 
                                    <div class="card col-md-4 mb-3">
                                        <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", @game.Item1.AppId)" alt="@string.Format("{0}", @game.Item1.Name)">
                                        <div class="card-body">
                                            <h4 class="card-title">Special title treatment</h4>
                                            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>

                                        </div>
                                    </div>


                                    <div class="card col-md-4 mb-3">
                                        <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", @game.Item2.AppId)" alt="@string.Format("{0}", @game.Item2.Name)">
                                        <div class="card-body">
                                            <h4 class="card-title">Special title treatment</h4>
                                            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                        </div>
                                    </div>

                                    <div class="card col-md-4 mb-3">
                                        <img class="img-fluid" alt="100%x280" src="@string.Format("https://steamcdn-a.akamaihd.net/steam/apps/{0}/capsule_616x353.jpg", @game.Item3.AppId)" alt="@string.Format("{0}", @game.Item3.Name)">
                                        <div class="card-body">
                                            <h4 class="card-title">Special title treatment</h4>
                                            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                        <a class="carousel-control-prev" href="#recentGamesCarousel" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>

                        <a class="carousel-control-next" href="#recentGamesCarousel" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>



                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid">

        <h1>Your Race Results</h1>
        <div class="row">
            <div class="col-md-4">
            </div>
        </div>
    </div>
}
@section Scripts
{
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
}
